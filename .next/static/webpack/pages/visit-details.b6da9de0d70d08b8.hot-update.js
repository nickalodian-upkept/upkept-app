"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/visit-details",{

/***/ "./pages/visit-details.js":
/*!********************************!*\
  !*** ./pages/visit-details.js ***!
  \********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ VisitDetails; }\n/* harmony export */ });\n/* harmony import */ var _swc_helpers_src_async_to_generator_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @swc/helpers/src/_async_to_generator.mjs */ \"./node_modules/@swc/helpers/src/_async_to_generator.mjs\");\n/* harmony import */ var _Users_nick_donaldson_Documents_upkept_app_node_modules_next_dist_compiled_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/next/dist/compiled/regenerator-runtime/runtime.js */ \"./node_modules/next/dist/compiled/regenerator-runtime/runtime.js\");\n/* harmony import */ var _Users_nick_donaldson_Documents_upkept_app_node_modules_next_dist_compiled_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_Users_nick_donaldson_Documents_upkept_app_node_modules_next_dist_compiled_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/supabaseClient */ \"./lib/supabaseClient.js\");\n\n\n\n// pages/visit-details.js\n\n\n\nvar _s = $RefreshSig$();\nfunction VisitDetails() {\n    var _this = this;\n    _s();\n    var router = (0,next_router__WEBPACK_IMPORTED_MODULE_3__.useRouter)();\n    var id = router.query.id;\n    var ref = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null), visit = ref[0], setVisit = ref[1];\n    var ref1 = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]), visitTasks = ref1[0], setVisitTasks = ref1[1];\n    var ref2 = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]), availableTasks = ref2[0], setAvailableTasks = ref2[1];\n    var ref3 = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true), loading = ref3[0], setLoading = ref3[1];\n    var ref4 = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\"), note = ref4[0], setNote = ref4[1];\n    var ref5 = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false), submitting = ref5[0], setSubmitting = ref5[1];\n    var ref6 = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\"), activeCategory = ref6[0], setActiveCategory = ref6[1];\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function() {\n        if (!id) return;\n        var fetchVisitAndTasks = function() {\n            var _ref = (0,_swc_helpers_src_async_to_generator_mjs__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_Users_nick_donaldson_Documents_upkept_app_node_modules_next_dist_compiled_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee() {\n                var ref, visitData, ref1, tasksData, ref2, addableData;\n                return _Users_nick_donaldson_Documents_upkept_app_node_modules_next_dist_compiled_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee$(_ctx) {\n                    while(1)switch(_ctx.prev = _ctx.next){\n                        case 0:\n                            _ctx.next = 2;\n                            return _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_4__.supabase.from(\"visits\").select(\"*, technician:technician_id (name, email, avatar_url)\").eq(\"id\", id).single();\n                        case 2:\n                            ref = _ctx.sent;\n                            visitData = ref.data;\n                            setVisit(visitData);\n                            _ctx.next = 7;\n                            return _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_4__.supabase.from(\"visit_tasks\").select(\"*\").eq(\"visit_id\", id).order(\"added_by\", {\n                                ascending: true\n                            });\n                        case 7:\n                            ref1 = _ctx.sent;\n                            tasksData = ref1.data;\n                            setVisitTasks(tasksData || []);\n                            _ctx.next = 12;\n                            return _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_4__.supabase.from(\"tasks\").select(\"*\").eq(\"is_addable\", true);\n                        case 12:\n                            ref2 = _ctx.sent;\n                            addableData = ref2.data;\n                            setAvailableTasks(addableData || []);\n                            if ((addableData === null || addableData === void 0 ? void 0 : addableData.length) > 0) {\n                                setActiveCategory(addableData[0].category);\n                            }\n                            setLoading(false);\n                        case 17:\n                        case \"end\":\n                            return _ctx.stop();\n                    }\n                }, _callee);\n            }));\n            return function fetchVisitAndTasks() {\n                return _ref.apply(this, arguments);\n            };\n        }();\n        fetchVisitAndTasks();\n    }, [\n        id\n    ]);\n    var userTasks = visitTasks.filter(function(t) {\n        return t.added_by === \"homeowner\";\n    });\n    var systemTasks = visitTasks.filter(function(t) {\n        return t.added_by === \"system\";\n    });\n    var totalAddedDuration = userTasks.reduce(function(sum, task) {\n        return sum + (task.duration_minutes || 0);\n    }, 0);\n    var totalAddedPrice = userTasks.reduce(function(sum, task) {\n        return sum + (task.price || 0);\n    }, 0);\n    var taskDurationLimit = 90;\n    var durationLimitReached = totalAddedDuration >= taskDurationLimit;\n    var handleAddTaskFromLibrary = function() {\n        var _ref = (0,_swc_helpers_src_async_to_generator_mjs__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_Users_nick_donaldson_Documents_upkept_app_node_modules_next_dist_compiled_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee(task) {\n            var duration, error, ref, tasksData;\n            return _Users_nick_donaldson_Documents_upkept_app_node_modules_next_dist_compiled_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee$(_ctx) {\n                while(1)switch(_ctx.prev = _ctx.next){\n                    case 0:\n                        if (!durationLimitReached) {\n                            _ctx.next = 2;\n                            break;\n                        }\n                        return _ctx.abrupt(\"return\");\n                    case 2:\n                        setSubmitting(true);\n                        duration = task.duration_minutes || 15;\n                        _ctx.next = 6;\n                        return _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_4__.supabase.from(\"visit_tasks\").insert([\n                            {\n                                visit_id: visit.id,\n                                task_id: task.id,\n                                label: task.label,\n                                added_by: \"homeowner\",\n                                billable: true,\n                                price: task.price || 85,\n                                duration_minutes: duration\n                            }\n                        ]);\n                    case 6:\n                        error = _ctx.sent.error;\n                        if (error) {\n                            _ctx.next = 15;\n                            break;\n                        }\n                        _ctx.next = 10;\n                        return _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_4__.supabase.from(\"visit_tasks\").select(\"*\").eq(\"visit_id\", visit.id).order(\"added_by\", {\n                            ascending: true\n                        });\n                    case 10:\n                        ref = _ctx.sent;\n                        tasksData = ref.data;\n                        setVisitTasks(tasksData || []);\n                        _ctx.next = 16;\n                        break;\n                    case 15:\n                        {\n                            console.error(\"Failed to add library task:\", error.message);\n                        }\n                    case 16:\n                        setSubmitting(false);\n                    case 17:\n                    case \"end\":\n                        return _ctx.stop();\n                }\n            }, _callee);\n        }));\n        return function handleAddTaskFromLibrary(task) {\n            return _ref.apply(this, arguments);\n        };\n    }();\n    var handleRemoveTask = function() {\n        var _ref = (0,_swc_helpers_src_async_to_generator_mjs__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_Users_nick_donaldson_Documents_upkept_app_node_modules_next_dist_compiled_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee(taskId) {\n            var error;\n            return _Users_nick_donaldson_Documents_upkept_app_node_modules_next_dist_compiled_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee$(_ctx) {\n                while(1)switch(_ctx.prev = _ctx.next){\n                    case 0:\n                        setSubmitting(true);\n                        _ctx.next = 3;\n                        return _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_4__.supabase.from(\"visit_tasks\").delete().eq(\"id\", taskId);\n                    case 3:\n                        error = _ctx.sent.error;\n                        if (!error) {\n                            setVisitTasks(function(prev) {\n                                return prev.filter(function(t) {\n                                    return t.id !== taskId;\n                                });\n                            });\n                        } else {\n                            console.error(\"Failed to remove task:\", error.message);\n                        }\n                        setSubmitting(false);\n                    case 6:\n                    case \"end\":\n                        return _ctx.stop();\n                }\n            }, _callee);\n        }));\n        return function handleRemoveTask(taskId) {\n            return _ref.apply(this, arguments);\n        };\n    }();\n    var tasksByCategory = availableTasks.reduce(function(acc, task) {\n        if (task.category === \"core-plan\") return acc;\n        if (!acc[task.category]) acc[task.category] = [];\n        acc[task.category].push(task);\n        return acc;\n    }, {});\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"main\", {\n        className: \"min-h-screen p-6 bg-gray-50 text-gray-800\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n            className: \"max-w-2xl mx-auto bg-white p-6 rounded-lg shadow-md\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"h1\", {\n                    className: \"text-2xl font-bold mb-4\",\n                    children: \"Visit Details\"\n                }, void 0, false, {\n                    fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                    lineNumber: 115,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"p\", {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"strong\", {\n                            children: \"Date:\"\n                        }, void 0, false, {\n                            fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                            lineNumber: 116,\n                            columnNumber: 12\n                        }, this),\n                        \" \",\n                        new Date(visit === null || visit === void 0 ? void 0 : visit.scheduled_date).toLocaleDateString()\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                    lineNumber: 116,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"p\", {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"strong\", {\n                            children: \"Location:\"\n                        }, void 0, false, {\n                            fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                            lineNumber: 117,\n                            columnNumber: 12\n                        }, this),\n                        \" \",\n                        visit === null || visit === void 0 ? void 0 : visit.location\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                    lineNumber: 117,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"p\", {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"strong\", {\n                            children: \"Homeowner Notes:\"\n                        }, void 0, false, {\n                            fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                            lineNumber: 118,\n                            columnNumber: 12\n                        }, this),\n                        \" \",\n                        (visit === null || visit === void 0 ? void 0 : visit.homeowner_notes) || \"No notes provided.\"\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                    lineNumber: 118,\n                    columnNumber: 9\n                }, this),\n                (visit === null || visit === void 0 ? void 0 : visit.technician) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                    className: \"mt-6 flex items-center gap-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"img\", {\n                            src: visit.technician.avatar_url || \"https://randomuser.me/api/portraits/men/75.jpg\",\n                            alt: \"Technician Avatar\",\n                            className: \"w-12 h-12 rounded-full object-cover\",\n                            onError: function(e) {\n                                return e.currentTarget.src = \"https://randomuser.me/api/portraits/lego/2.jpg\";\n                            }\n                        }, void 0, false, {\n                            fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                            lineNumber: 122,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"p\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"strong\", {\n                                            children: \"Technician:\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                                            lineNumber: 129,\n                                            columnNumber: 18\n                                        }, this),\n                                        \" \",\n                                        visit.technician.name\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                                    lineNumber: 129,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"p\", {\n                                    className: \"text-sm text-gray-600\",\n                                    children: visit.technician.email\n                                }, void 0, false, {\n                                    fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                                    lineNumber: 130,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                            lineNumber: 128,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                    lineNumber: 121,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                    className: \"mt-6\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"h2\", {\n                            className: \"text-xl font-semibold mb-2\",\n                            children: \"Included Tasks\"\n                        }, void 0, false, {\n                            fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                            lineNumber: 136,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"ul\", {\n                            className: \"space-y-2\",\n                            children: systemTasks.map(function(task) {\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"li\", {\n                                    className: \"border p-3 rounded bg-gray-50\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"span\", {\n                                            className: \"font-medium\",\n                                            children: task.label\n                                        }, void 0, false, {\n                                            fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                                            lineNumber: 140,\n                                            columnNumber: 17\n                                        }, _this),\n                                        task.completed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"span\", {\n                                            className: \"ml-2 text-green-600\",\n                                            children: \"\\u2705\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                                            lineNumber: 141,\n                                            columnNumber: 36\n                                        }, _this)\n                                    ]\n                                }, task.id, true, {\n                                    fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                                    lineNumber: 139,\n                                    columnNumber: 15\n                                }, _this);\n                            })\n                        }, void 0, false, {\n                            fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                            lineNumber: 137,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                    lineNumber: 135,\n                    columnNumber: 9\n                }, this),\n                userTasks.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                    className: \"mt-6\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"h2\", {\n                            className: \"text-xl font-semibold mb-2\",\n                            children: \"Additional Requests\"\n                        }, void 0, false, {\n                            fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                            lineNumber: 149,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"ul\", {\n                            className: \"space-y-2\",\n                            children: userTasks.map(function(task) {\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"li\", {\n                                    className: \"border p-3 rounded bg-gray-50 flex justify-between items-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"span\", {\n                                            className: \"font-medium\",\n                                            children: [\n                                                task.label,\n                                                \" \",\n                                                task.billable && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"span\", {\n                                                    className: \"text-sm text-red-500 ml-2\",\n                                                    children: [\n                                                        \"\\uD83D\\uDCB2\",\n                                                        task.price\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                                                    lineNumber: 153,\n                                                    columnNumber: 80\n                                                }, _this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                                            lineNumber: 153,\n                                            columnNumber: 19\n                                        }, _this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"button\", {\n                                            onClick: function() {\n                                                return handleRemoveTask(task.id);\n                                            },\n                                            className: \"text-xs text-gray-500 hover:text-red-600\",\n                                            disabled: submitting,\n                                            children: \"Remove\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                                            lineNumber: 154,\n                                            columnNumber: 19\n                                        }, _this)\n                                    ]\n                                }, task.id, true, {\n                                    fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                                    lineNumber: 152,\n                                    columnNumber: 17\n                                }, _this);\n                            })\n                        }, void 0, false, {\n                            fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                            lineNumber: 150,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                    lineNumber: 148,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                    className: \"mt-6 border-t pt-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"h2\", {\n                            className: \"text-xl font-semibold mb-2\",\n                            children: \"\\u2795 Add from Library\"\n                        }, void 0, false, {\n                            fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                            lineNumber: 166,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                            className: \"mb-3 text-sm text-gray-600\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"p\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"strong\", {\n                                            children: \"Estimated Hours (Additional Tasks):\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                                            lineNumber: 169,\n                                            columnNumber: 16\n                                        }, this),\n                                        \" \",\n                                        (totalAddedDuration / 60).toFixed(1),\n                                        \" hrs of 1.5 hrs max\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                                    lineNumber: 169,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"p\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"strong\", {\n                                            children: \"Hourly Rate:\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                                            lineNumber: 170,\n                                            columnNumber: 16\n                                        }, this),\n                                        \" $85/hr\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                                    lineNumber: 170,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"p\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"strong\", {\n                                            children: \"Total Estimate:\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                                            lineNumber: 171,\n                                            columnNumber: 16\n                                        }, this),\n                                        \" $\",\n                                        (totalAddedDuration / 60 * 85).toFixed(2)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                                    lineNumber: 171,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"p\", {\n                                    className: \"text-xs text-gray-400\",\n                                    children: \"*Estimate only \\u2014 final time and cost may vary after in-person review.\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                                    lineNumber: 172,\n                                    columnNumber: 13\n                                }, this),\n                                durationLimitReached && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"p\", {\n                                    className: \"text-red-500\",\n                                    children: \"You've reached the maximum allowed time for add-on tasks.\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                                    lineNumber: 173,\n                                    columnNumber: 38\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                            lineNumber: 168,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                            className: \"flex flex-wrap gap-2 mb-4\",\n                            children: Object.keys(tasksByCategory).map(function(category) {\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"button\", {\n                                    onClick: function() {\n                                        return setActiveCategory(category);\n                                    },\n                                    className: \"px-3 py-1 rounded-full border text-sm \".concat(activeCategory === category ? \"bg-blue-600 text-white border-blue-600\" : \"bg-white text-blue-600 border-blue-300 hover:bg-blue-50\"),\n                                    children: category\n                                }, category, false, {\n                                    fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                                    lineNumber: 178,\n                                    columnNumber: 15\n                                }, _this);\n                            })\n                        }, void 0, false, {\n                            fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                            lineNumber: 176,\n                            columnNumber: 11\n                        }, this),\n                        activeCategory && tasksByCategory[activeCategory] && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                            className: \"mb-4\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"ul\", {\n                                className: \"space-y-2\",\n                                children: tasksByCategory[activeCategory].map(function(task) {\n                                    var alreadyAdded = userTasks.some(function(t) {\n                                        return t.task_id === task.id;\n                                    });\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"li\", {\n                                        className: \"flex justify-between items-center border p-3 rounded bg-gray-50\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"span\", {\n                                                children: task.label\n                                            }, void 0, false, {\n                                                fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                                                lineNumber: 199,\n                                                columnNumber: 23\n                                            }, _this),\n                                            alreadyAdded ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"span\", {\n                                                className: \"text-green-600 text-sm\",\n                                                children: \"\\u2713 Added\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                                                lineNumber: 201,\n                                                columnNumber: 25\n                                            }, _this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"button\", {\n                                                onClick: function() {\n                                                    return handleAddTaskFromLibrary(task);\n                                                },\n                                                className: \"text-sm text-blue-600 border border-blue-600 px-2 py-1 rounded hover:bg-blue-50\",\n                                                disabled: submitting || durationLimitReached,\n                                                children: \"Add\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                                                lineNumber: 203,\n                                                columnNumber: 25\n                                            }, _this)\n                                        ]\n                                    }, task.id, true, {\n                                        fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                                        lineNumber: 198,\n                                        columnNumber: 21\n                                    }, _this);\n                                })\n                            }, void 0, false, {\n                                fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                                lineNumber: 194,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                            lineNumber: 193,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n                    lineNumber: 165,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n            lineNumber: 114,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/nick.donaldson/Documents/upkept-app/pages/visit-details.js\",\n        lineNumber: 113,\n        columnNumber: 5\n    }, this);\n};\n_s(VisitDetails, \"NejP7CqZcYQaO/h9PFVE7E/tvZs=\", false, function() {\n    return [\n        next_router__WEBPACK_IMPORTED_MODULE_3__.useRouter\n    ];\n});\n_c = VisitDetails;\nVisitDetails.showNav = false;\nvar _c;\n$RefreshReg$(_c, \"VisitDetails\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy92aXNpdC1kZXRhaWxzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQ0E7OztBQURBLHlCQUF5QjtBQUNtQjtBQUNKO0FBQ1M7O0FBRWxDLFNBQVNJLFlBQVksR0FBRzs7O0lBQ3JDLElBQU1DLE1BQU0sR0FBR0gsc0RBQVMsRUFBRTtJQUMxQixJQUFNLEVBQUksR0FBS0csTUFBTSxDQUFDRSxLQUFLLENBQW5CRCxFQUFFO0lBQ1YsSUFBMEJMLEdBQWMsR0FBZEEsK0NBQVEsQ0FBQyxJQUFJLENBQUMsRUFBakNPLEtBQUssR0FBY1AsR0FBYyxHQUE1QixFQUFFUSxRQUFRLEdBQUlSLEdBQWMsR0FBbEI7SUFDdEIsSUFBb0NBLElBQVksR0FBWkEsK0NBQVEsQ0FBQyxFQUFFLENBQUMsRUFBekNTLFVBQVUsR0FBbUJULElBQVksR0FBL0IsRUFBRVUsYUFBYSxHQUFJVixJQUFZLEdBQWhCO0lBQ2hDLElBQTRDQSxJQUFZLEdBQVpBLCtDQUFRLENBQUMsRUFBRSxDQUFDLEVBQWpEVyxjQUFjLEdBQXVCWCxJQUFZLEdBQW5DLEVBQUVZLGlCQUFpQixHQUFJWixJQUFZLEdBQWhCO0lBQ3hDLElBQThCQSxJQUFjLEdBQWRBLCtDQUFRLENBQUMsSUFBSSxDQUFDLEVBQXJDYSxPQUFPLEdBQWdCYixJQUFjLEdBQTlCLEVBQUVjLFVBQVUsR0FBSWQsSUFBYyxHQUFsQjtJQUMxQixJQUF3QkEsSUFBWSxHQUFaQSwrQ0FBUSxDQUFDLEVBQUUsQ0FBQyxFQUE3QmUsSUFBSSxHQUFhZixJQUFZLEdBQXpCLEVBQUVnQixPQUFPLEdBQUloQixJQUFZLEdBQWhCO0lBQ3BCLElBQW9DQSxJQUFlLEdBQWZBLCtDQUFRLENBQUMsS0FBSyxDQUFDLEVBQTVDaUIsVUFBVSxHQUFtQmpCLElBQWUsR0FBbEMsRUFBRWtCLGFBQWEsR0FBSWxCLElBQWUsR0FBbkI7SUFDaEMsSUFBNENBLElBQVksR0FBWkEsK0NBQVEsQ0FBQyxFQUFFLENBQUMsRUFBakRtQixjQUFjLEdBQXVCbkIsSUFBWSxHQUFuQyxFQUFFb0IsaUJBQWlCLEdBQUlwQixJQUFZLEdBQWhCO0lBRXhDRCxnREFBUyxDQUFDLFdBQU07UUFDZCxJQUFJLENBQUNNLEVBQUUsRUFBRSxPQUFPO1FBRWhCLElBQU1nQixrQkFBa0I7dUJBQUcsNlBBQVk7b0JBQ1QsR0FJakIsRUFKR0MsU0FBUyxFQVFLLElBSWEsRUFKM0JDLFNBQVMsRUFRTyxJQUdMLEVBSFhDLFdBQVc7Ozs7O21DQWhCU3RCLDhEQUMzQixDQUFDLFFBQVEsQ0FBQyxDQUNkd0IsTUFBTSxDQUFDLHVEQUF1RCxDQUFDLENBQy9EQyxFQUFFLENBQUMsSUFBSSxFQUFFdEIsRUFBRSxDQUFDLENBQ1p1QixNQUFNLEVBQUU7OzRCQUppQixHQUlqQjs0QkFKSEMsU0FBZSxHQUFLLEdBSWpCLENBSkhBLElBQUksQ0FBVzs0QkFNdkJyQixRQUFRLENBQUNjLFNBQVMsQ0FBQyxDQUFDOzttQ0FFY3BCLDhEQUMzQixDQUFDLGFBQWEsQ0FBQyxDQUNuQndCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FDWEMsRUFBRSxDQUFDLFVBQVUsRUFBRXRCLEVBQUUsQ0FBQyxDQUNsQnlCLEtBQUssQ0FBQyxVQUFVLEVBQUU7Z0NBQUVDLFNBQVMsRUFBRSxJQUFJOzZCQUFFLENBQUM7OzRCQUpiLElBSWE7NEJBSmpDRixTQUFlLEdBQUssSUFJYSxDQUpqQ0EsSUFBSSxDQUFXOzRCQU12Qm5CLGFBQWEsQ0FBQ2EsU0FBUyxJQUFJLEVBQUUsQ0FBQyxDQUFDOzttQ0FFS3JCLDhEQUM3QixDQUFDLE9BQU8sQ0FBQyxDQUNid0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUNYQyxFQUFFLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQzs7NEJBSEssSUFHTDs0QkFIakJFLFdBQWlCLEdBQUssSUFHTCxDQUhqQkEsSUFBSSxDQUFhOzRCQUt6QmpCLGlCQUFpQixDQUFDWSxXQUFXLElBQUksRUFBRSxDQUFDLENBQUM7NEJBQ3JDLElBQUlBLENBQUFBLFdBQVcsYUFBWEEsV0FBVyxXQUFRLEdBQW5CQSxLQUFBQSxDQUFtQixHQUFuQkEsV0FBVyxDQUFFUSxNQUFNLElBQUcsQ0FBQyxFQUFFO2dDQUMzQlosaUJBQWlCLENBQUNJLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQ1MsUUFBUSxDQUFDLENBQUM7NkJBQzVDOzRCQUVEbkIsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDOzs7Ozs7YUFDbkI7NEJBNUJLTyxrQkFBa0I7OztXQTRCdkI7UUFFREEsa0JBQWtCLEVBQUUsQ0FBQztLQUN0QixFQUFFO1FBQUNoQixFQUFFO0tBQUMsQ0FBQyxDQUFDO0lBRVQsSUFBTTZCLFNBQVMsR0FBR3pCLFVBQVUsQ0FBQzBCLE1BQU0sQ0FBQ0MsU0FBQUEsQ0FBQztlQUFJQSxDQUFDLENBQUNDLFFBQVEsS0FBSyxXQUFXO0tBQUEsQ0FBQztJQUNwRSxJQUFNQyxXQUFXLEdBQUc3QixVQUFVLENBQUMwQixNQUFNLENBQUNDLFNBQUFBLENBQUM7ZUFBSUEsQ0FBQyxDQUFDQyxRQUFRLEtBQUssUUFBUTtLQUFBLENBQUM7SUFFbkUsSUFBTUUsa0JBQWtCLEdBQUdMLFNBQVMsQ0FBQ00sTUFBTSxDQUFDLFNBQUNDLEdBQUcsRUFBRUMsSUFBSTtlQUFLRCxHQUFHLEdBQUcsQ0FBQ0MsSUFBSSxDQUFDQyxnQkFBZ0IsSUFBSSxDQUFDLENBQUM7S0FBQSxFQUFFLENBQUMsQ0FBQztJQUNqRyxJQUFNQyxlQUFlLEdBQUdWLFNBQVMsQ0FBQ00sTUFBTSxDQUFDLFNBQUNDLEdBQUcsRUFBRUMsSUFBSTtlQUFLRCxHQUFHLEdBQUcsQ0FBQ0MsSUFBSSxDQUFDRyxLQUFLLElBQUksQ0FBQyxDQUFDO0tBQUEsRUFBRSxDQUFDLENBQUM7SUFFbkYsSUFBTUMsaUJBQWlCLEdBQUcsRUFBRTtJQUM1QixJQUFNQyxvQkFBb0IsR0FBR1Isa0JBQWtCLElBQUlPLGlCQUFpQjtJQUVwRSxJQUFNRSx3QkFBd0I7bUJBQUcsMlBBQU9OLElBQUksRUFBSztnQkFJekNPLFFBQVEsRUFFTkMsS0FBSyxFQWFpQixHQUlhLEVBSjNCM0IsU0FBUzs7Ozs0QkFsQnJCd0IsQ0FBQUEsb0JBQW9COzs7Ozs7d0JBQ3hCN0IsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDO3dCQUVkK0IsUUFBUSxHQUFHUCxJQUFJLENBQUNDLGdCQUFnQixJQUFJLEVBQUUsQ0FBQzs7K0JBRXJCekMsOERBQWEsQ0FBQyxhQUFhLENBQUMsQ0FBQ2lELE1BQU0sQ0FBQzs0QkFDMUQ7Z0NBQ0VDLFFBQVEsRUFBRTdDLEtBQUssQ0FBQ0YsRUFBRTtnQ0FDbEJnRCxPQUFPLEVBQUVYLElBQUksQ0FBQ3JDLEVBQUU7Z0NBQ2hCaUQsS0FBSyxFQUFFWixJQUFJLENBQUNZLEtBQUs7Z0NBQ2pCakIsUUFBUSxFQUFFLFdBQVc7Z0NBQ3JCa0IsUUFBUSxFQUFFLElBQUk7Z0NBQ2RWLEtBQUssRUFBRUgsSUFBSSxDQUFDRyxLQUFLLElBQUksRUFBRTtnQ0FDdkJGLGdCQUFnQixFQUFFTSxRQUFROzZCQUMzQjt5QkFDRixDQUFDOzt3QkFWSSxLQUFPLGFBQUxDLEtBQUssQ0FVWDs0QkFFR0EsS0FBSzs7Ozs7K0JBQzBCaEQsOERBQzNCLENBQUMsYUFBYSxDQUFDLENBQ25Cd0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUNYQyxFQUFFLENBQUMsVUFBVSxFQUFFcEIsS0FBSyxDQUFDRixFQUFFLENBQUMsQ0FDeEJ5QixLQUFLLENBQUMsVUFBVSxFQUFFOzRCQUFFQyxTQUFTLEVBQUUsSUFBSTt5QkFBRSxDQUFDOzt3QkFKYixHQUlhO3dCQUpqQ0YsU0FBZSxHQUFLLEdBSWEsQ0FKakNBLElBQUksQ0FBVzt3QkFLdkJuQixhQUFhLENBQUNhLFNBQVMsSUFBSSxFQUFFLENBQUMsQ0FBQzs7Ozt3QkFDMUI7NEJBQ0xpQyxPQUFPLENBQUNOLEtBQUssQ0FBQyw2QkFBNkIsRUFBRUEsS0FBSyxDQUFDTyxPQUFPLENBQUMsQ0FBQzt5QkFDN0Q7O3dCQUVEdkMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDOzs7Ozs7U0FDdEI7d0JBOUJLOEIsd0JBQXdCLENBQVVOLElBQUk7OztPQThCM0M7SUFFRCxJQUFNZ0IsZ0JBQWdCO21CQUFHLDJQQUFPQyxNQUFNLEVBQUs7Z0JBRWpDVCxLQUFLOzs7O3dCQURiaEMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDOzsrQkFDSWhCLDhEQUFhLENBQUMsYUFBYSxDQUFDLENBQUMwRCxNQUFNLEVBQUUsQ0FBQ2pDLEVBQUUsQ0FBQyxJQUFJLEVBQUVnQyxNQUFNLENBQUM7O3dCQUF4RSxLQUFPLGFBQUxULEtBQUssQ0FBaUU7d0JBQzlFLElBQUksQ0FBQ0EsS0FBSyxFQUFFOzRCQUNWeEMsYUFBYSxDQUFDbUQsU0FBQUEsSUFBSTt1Q0FBSUEsSUFBSSxDQUFDMUIsTUFBTSxDQUFDQyxTQUFBQSxDQUFDOzJDQUFJQSxDQUFDLENBQUMvQixFQUFFLEtBQUtzRCxNQUFNO2lDQUFBLENBQUM7NkJBQUEsQ0FBQyxDQUFDO3lCQUMxRCxNQUFNOzRCQUNMSCxPQUFPLENBQUNOLEtBQUssQ0FBQyx3QkFBd0IsRUFBRUEsS0FBSyxDQUFDTyxPQUFPLENBQUMsQ0FBQzt5QkFDeEQ7d0JBQ0R2QyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7Ozs7OztTQUN0Qjt3QkFUS3dDLGdCQUFnQixDQUFVQyxNQUFNOzs7T0FTckM7SUFFRCxJQUFNRyxlQUFlLEdBQUduRCxjQUFjLENBQUM2QixNQUFNLENBQUMsU0FBQ3VCLEdBQUcsRUFBRXJCLElBQUksRUFBSztRQUMzRCxJQUFJQSxJQUFJLENBQUNULFFBQVEsS0FBSyxXQUFXLEVBQUUsT0FBTzhCLEdBQUcsQ0FBQztRQUM5QyxJQUFJLENBQUNBLEdBQUcsQ0FBQ3JCLElBQUksQ0FBQ1QsUUFBUSxDQUFDLEVBQUU4QixHQUFHLENBQUNyQixJQUFJLENBQUNULFFBQVEsQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUNqRDhCLEdBQUcsQ0FBQ3JCLElBQUksQ0FBQ1QsUUFBUSxDQUFDLENBQUMrQixJQUFJLENBQUN0QixJQUFJLENBQUMsQ0FBQztRQUM5QixPQUFPcUIsR0FBRyxDQUFDO0tBQ1osRUFBRSxFQUFFLENBQUM7SUFFTixxQkFDRSw4REFBQ0UsTUFBSTtRQUFDQyxTQUFTLEVBQUMsMkNBQTJDO2tCQUN6RCw0RUFBQ0MsS0FBRztZQUFDRCxTQUFTLEVBQUMscURBQXFEOzs4QkFDbEUsOERBQUNFLElBQUU7b0JBQUNGLFNBQVMsRUFBQyx5QkFBeUI7OEJBQUMsZUFBYTs7Ozs7d0JBQUs7OEJBQzFELDhEQUFDRyxHQUFDOztzQ0FBQyw4REFBQ0MsUUFBTTtzQ0FBQyxPQUFLOzs7OztnQ0FBUzt3QkFBQSxHQUFDO3dCQUFDLElBQUlDLElBQUksQ0FBQ2hFLEtBQUssYUFBTEEsS0FBSyxXQUFnQixHQUFyQkEsS0FBQUEsQ0FBcUIsR0FBckJBLEtBQUssQ0FBRWlFLGNBQWMsQ0FBQyxDQUFDQyxrQkFBa0IsRUFBRTs7Ozs7O3dCQUFLOzhCQUNwRiw4REFBQ0osR0FBQzs7c0NBQUMsOERBQUNDLFFBQU07c0NBQUMsV0FBUzs7Ozs7Z0NBQVM7d0JBQUEsR0FBQzt3QkFBQy9ELEtBQUssYUFBTEEsS0FBSyxXQUFVLEdBQWZBLEtBQUFBLENBQWUsR0FBZkEsS0FBSyxDQUFFbUUsUUFBUTs7Ozs7O3dCQUFLOzhCQUNuRCw4REFBQ0wsR0FBQzs7c0NBQUMsOERBQUNDLFFBQU07c0NBQUMsa0JBQWdCOzs7OztnQ0FBUzt3QkFBQSxHQUFDO3dCQUFDL0QsQ0FBQUEsS0FBSyxhQUFMQSxLQUFLLFdBQWlCLEdBQXRCQSxLQUFBQSxDQUFzQixHQUF0QkEsS0FBSyxDQUFFb0UsZUFBZSxLQUFJLG9CQUFvQjs7Ozs7O3dCQUFLO2dCQUV4RnBFLENBQUFBLEtBQUssYUFBTEEsS0FBSyxXQUFZLEdBQWpCQSxLQUFBQSxDQUFpQixHQUFqQkEsS0FBSyxDQUFFcUUsVUFBVSxtQkFDaEIsOERBQUNULEtBQUc7b0JBQUNELFNBQVMsRUFBQyw4QkFBOEI7O3NDQUMzQyw4REFBQ1csS0FBRzs0QkFDRkMsR0FBRyxFQUFFdkUsS0FBSyxDQUFDcUUsVUFBVSxDQUFDRyxVQUFVLElBQUksZ0RBQWdEOzRCQUNwRkMsR0FBRyxFQUFDLG1CQUFtQjs0QkFDdkJkLFNBQVMsRUFBQyxxQ0FBcUM7NEJBQy9DZSxPQUFPLEVBQUUsU0FBQ0MsQ0FBQzt1Q0FBTUEsQ0FBQyxDQUFDQyxhQUFhLENBQUNMLEdBQUcsR0FBRyxnREFBZ0Q7NkJBQUM7Ozs7O2dDQUN4RjtzQ0FDRiw4REFBQ1gsS0FBRzs7OENBQ0YsOERBQUNFLEdBQUM7O3NEQUFDLDhEQUFDQyxRQUFNO3NEQUFDLGFBQVc7Ozs7O2dEQUFTO3dDQUFBLEdBQUM7d0NBQUMvRCxLQUFLLENBQUNxRSxVQUFVLENBQUNRLElBQUk7Ozs7Ozt3Q0FBSzs4Q0FDM0QsOERBQUNmLEdBQUM7b0NBQUNILFNBQVMsRUFBQyx1QkFBdUI7OENBQUUzRCxLQUFLLENBQUNxRSxVQUFVLENBQUNTLEtBQUs7Ozs7O3dDQUFLOzs7Ozs7Z0NBQzdEOzs7Ozs7d0JBQ0Y7OEJBR1IsOERBQUNsQixLQUFHO29CQUFDRCxTQUFTLEVBQUMsTUFBTTs7c0NBQ25CLDhEQUFDb0IsSUFBRTs0QkFBQ3BCLFNBQVMsRUFBQyw0QkFBNEI7c0NBQUMsZ0JBQWM7Ozs7O2dDQUFLO3NDQUM5RCw4REFBQ3FCLElBQUU7NEJBQUNyQixTQUFTLEVBQUMsV0FBVztzQ0FDdEI1QixXQUFXLENBQUNrRCxHQUFHLENBQUM5QyxTQUFBQSxJQUFJO3FEQUNuQiw4REFBQytDLElBQUU7b0NBQWV2QixTQUFTLEVBQUMsK0JBQStCOztzREFDekQsOERBQUN3QixNQUFJOzRDQUFDeEIsU0FBUyxFQUFDLGFBQWE7c0RBQUV4QixJQUFJLENBQUNZLEtBQUs7Ozs7O2lEQUFRO3dDQUNoRFosSUFBSSxDQUFDaUQsU0FBUyxrQkFBSSw4REFBQ0QsTUFBSTs0Q0FBQ3hCLFNBQVMsRUFBQyxxQkFBcUI7c0RBQUMsUUFBQzs7Ozs7aURBQVM7O21DQUY1RHhCLElBQUksQ0FBQ3JDLEVBQUU7Ozs7eUNBR1Q7NkJBQ1IsQ0FBQzs7Ozs7Z0NBQ0M7Ozs7Ozt3QkFDRDtnQkFFTDZCLFNBQVMsQ0FBQ0YsTUFBTSxHQUFHLENBQUMsa0JBQ25CLDhEQUFDbUMsS0FBRztvQkFBQ0QsU0FBUyxFQUFDLE1BQU07O3NDQUNuQiw4REFBQ29CLElBQUU7NEJBQUNwQixTQUFTLEVBQUMsNEJBQTRCO3NDQUFDLHFCQUFtQjs7Ozs7Z0NBQUs7c0NBQ25FLDhEQUFDcUIsSUFBRTs0QkFBQ3JCLFNBQVMsRUFBQyxXQUFXO3NDQUN0QmhDLFNBQVMsQ0FBQ3NELEdBQUcsQ0FBQzlDLFNBQUFBLElBQUk7cURBQ2pCLDhEQUFDK0MsSUFBRTtvQ0FBZXZCLFNBQVMsRUFBQyxpRUFBaUU7O3NEQUMzRiw4REFBQ3dCLE1BQUk7NENBQUN4QixTQUFTLEVBQUMsYUFBYTs7Z0RBQUV4QixJQUFJLENBQUNZLEtBQUs7Z0RBQUMsR0FBQztnREFBQ1osSUFBSSxDQUFDYSxRQUFRLGtCQUFJLDhEQUFDbUMsTUFBSTtvREFBQ3hCLFNBQVMsRUFBQywyQkFBMkI7O3dEQUFDLGNBQUM7d0RBQUl4QixJQUFJLENBQUNHLEtBQUs7Ozs7Ozt5REFBUTs7Ozs7O2lEQUFRO3NEQUNySSw4REFBRitDLFFBQU07NENBQ0xDLE9BQU8sRUFBRTt1REFBTW5DLGdCQUFnQixDQUFDaEIsSUFBSSxDQUFDckMsRUFBRSxDQUFDOzZDQUFBOzRDQUN4QzZELFNBQVMsRUFBQywwQ0FBMEM7NENBQ3BENEIsUUFBUSxFQUFFN0UsVUFBVTtzREFDckIsUUFBTTs7Ozs7aURBQVM7O21DQU5UeUIsSUFBSSxDQUFDckMsRUFBRTs7Ozt5Q0FPWDs2QkFDTixDQUFDOzs7OztnQ0FDQzs7Ozs7O3dCQUNEOzhCQUdSLDhEQUFDOEQsS0FBRztvQkFBQ0QsU0FBUyxFQUFDLG9CQUFvQjs7c0NBQ2pDLDhEQUFDb0IsSUFBRTs0QkFBQ3BCLFNBQVMsRUFBQyw0QkFBNEI7c0NBQUMseUJBQWtCOzs7OztnQ0FBTztzQ0FFbEUsOERBQURDLEtBQUc7NEJBQUNELFNBQVMsRUFBQyw0QkFBNEI7OzhDQUN6Qyw4REFBQ0csR0FBQzs7c0RBQUMsOERBQUNDLFFBQU07c0RBQUMscUNBQW1DOzs7OztnREFBUzt3Q0FBQSxHQUFDO3dDQUFDLENBQUMvQixrQkFBa0IsR0FBRyxFQUFFLENBQUMsQ0FBQ3dELE9BQU8sQ0FBQyxDQUFDLENBQUM7d0NBQUMscUJBQW1COzs7Ozs7d0NBQUk7OENBQ3JILDhEQUFDMUIsR0FBQzs7c0RBQUMsOERBQUNDLFFBQU07c0RBQUMsY0FBWTs7Ozs7Z0RBQVM7d0NBQUEsU0FBTzs7Ozs7O3dDQUFJOzhDQUMzQyw4REFBQ0QsR0FBQzs7c0RBQUMsOERBQUNDLFFBQU07c0RBQUMsaUJBQWU7Ozs7O2dEQUFTO3dDQUFBLElBQUU7d0NBQUMsQ0FBQy9CLGtCQUFrQixHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQ3dELE9BQU8sQ0FBQyxDQUFDLENBQUM7Ozs7Ozt3Q0FBSzs4Q0FDcEYsOERBQUMxQixHQUFDO29DQUFDSCxTQUFTLEVBQUMsdUJBQXVCOzhDQUFDLDRFQUFxRTs7Ozs7d0NBQU07Z0NBQzdHbkIsb0JBQWtCLGtCQUFJLDhEQUFDc0IsR0FBQztvQ0FBQ0gsU0FBUyxFQUFDLGNBQWM7OENBQUMsMkRBQXlEOzs7Ozt3Q0FBSTs7Ozs7O2dDQUM5RztzQ0FFTiw4REFBQ0MsS0FBRzs0QkFBQ0QsU0FBUyxFQUFDLDJCQUEyQjtzQ0FDdkM4QixNQUFNLENBQUNDLElBQUksQ0FBQ25DLGVBQWUsQ0FBQyxDQUFDMEIsR0FBRyxDQUFDdkQsU0FBQUEsUUFBUTtxREFDeEMsOERBQUMyRCxRQUFNO29DQUVMQyxPQUFPLEVBQUU7K0NBQU16RSxpQkFBaUIsQ0FBQ2EsUUFBUSxDQUFDO3FDQUFBO29DQUMxQ2lDLFNBQVMsRUFBRSx3Q0FBdUMsQ0FJakQsT0FIQy9DLGNBQWMsS0FBS2MsUUFBUSxHQUN2Qix3Q0FBd0MsR0FDeEMseURBQXlELENBQzdEOzhDQUVEQSxRQUFRO21DQVJKQSxRQUFROzs7O3lDQVNOOzZCQUNWLENBQUM7Ozs7O2dDQUNFO3dCQUVMZCxjQUFjLElBQUkyQyxlQUFlLENBQUMzQyxjQUFjLENBQUMsa0JBQ2hELDhEQUFDZ0QsS0FBRzs0QkFBQ0QsU0FBUyxFQUFDLE1BQU07c0NBQ25CLDRFQUFDcUIsSUFBRTtnQ0FBQ3JCLFNBQVMsRUFBQyxXQUFXOzBDQUN0QkosZUFBZSxDQUFDM0MsY0FBYyxDQUFDLENBQUNxRSxHQUFHLENBQUM5QyxTQUFBQSxJQUFJLEVBQUk7b0NBQzNDLElBQU13RCxZQUFZLEdBQUdoRSxTQUFTLENBQUNpRSxJQUFJLENBQUMvRCxTQUFBQSxDQUFDOytDQUFJQSxDQUFDLENBQUNpQixPQUFPLEtBQUtYLElBQUksQ0FBQ3JDLEVBQUU7cUNBQUEsQ0FBQztvQ0FDL0QscUJBQ0UsOERBQUNvRixJQUFFO3dDQUFldkIsU0FBUyxFQUFDLGlFQUFpRTs7MERBQzNGLDhEQUFDd0IsTUFBSTswREFBRWhELElBQUksQ0FBQ1ksS0FBSzs7Ozs7cURBQVE7NENBQ3hCNEMsWUFBWSxpQkFDWCw4REFBQ1IsTUFBSTtnREFBQ3hCLFNBQVMsRUFBQyx3QkFBd0I7MERBQUMsY0FBTzs7Ozs7cURBQU8saUJBRXZELDhEQUFDMEIsUUFBTTtnREFDTEMsT0FBTyxFQUFFOzJEQUFNN0Msd0JBQXdCLENBQUNOLElBQUksQ0FBQztpREFBQTtnREFDN0N3QixTQUFTLEVBQUMsaUZBQWlGO2dEQUMzRjRCLFFBQVEsRUFBRTdFLFVBQVUsSUFBSThCLG9CQUFvQjswREFDN0MsS0FFRDs7Ozs7cURBQVM7O3VDQVhKTCxJQUFJLENBQUNyQyxFQUFFOzs7OzZDQWFYLENBQ0w7aUNBQ0gsQ0FBQzs7Ozs7b0NBQ0M7Ozs7O2dDQUNEOzs7Ozs7d0JBRUo7Ozs7OztnQkFDRjs7Ozs7WUFDRCxDQUNQO0NBQ0g7R0F2TnVCRixZQUFZOztRQUNuQkYsa0RBQVM7OztBQURGRSxLQUFBQSxZQUFZO0FBd05wQ0EsWUFBWSxDQUFDaUcsT0FBTyxHQUFHLEtBQUssQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9wYWdlcy92aXNpdC1kZXRhaWxzLmpzP2Q1MzUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcGFnZXMvdmlzaXQtZGV0YWlscy5qc1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvcm91dGVyJztcbmltcG9ydCB7IHN1cGFiYXNlIH0gZnJvbSAnLi4vbGliL3N1cGFiYXNlQ2xpZW50JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVmlzaXREZXRhaWxzKCkge1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3QgeyBpZCB9ID0gcm91dGVyLnF1ZXJ5O1xuICBjb25zdCBbdmlzaXQsIHNldFZpc2l0XSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbdmlzaXRUYXNrcywgc2V0VmlzaXRUYXNrc10gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFthdmFpbGFibGVUYXNrcywgc2V0QXZhaWxhYmxlVGFza3NdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW25vdGUsIHNldE5vdGVdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbc3VibWl0dGluZywgc2V0U3VibWl0dGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthY3RpdmVDYXRlZ29yeSwgc2V0QWN0aXZlQ2F0ZWdvcnldID0gdXNlU3RhdGUoJycpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpZCkgcmV0dXJuO1xuXG4gICAgY29uc3QgZmV0Y2hWaXNpdEFuZFRhc2tzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeyBkYXRhOiB2aXNpdERhdGEgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCd2aXNpdHMnKVxuICAgICAgICAuc2VsZWN0KCcqLCB0ZWNobmljaWFuOnRlY2huaWNpYW5faWQgKG5hbWUsIGVtYWlsLCBhdmF0YXJfdXJsKScpXG4gICAgICAgIC5lcSgnaWQnLCBpZClcbiAgICAgICAgLnNpbmdsZSgpO1xuXG4gICAgICBzZXRWaXNpdCh2aXNpdERhdGEpO1xuXG4gICAgICBjb25zdCB7IGRhdGE6IHRhc2tzRGF0YSB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3Zpc2l0X3Rhc2tzJylcbiAgICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAgIC5lcSgndmlzaXRfaWQnLCBpZClcbiAgICAgICAgLm9yZGVyKCdhZGRlZF9ieScsIHsgYXNjZW5kaW5nOiB0cnVlIH0pO1xuXG4gICAgICBzZXRWaXNpdFRhc2tzKHRhc2tzRGF0YSB8fCBbXSk7XG5cbiAgICAgIGNvbnN0IHsgZGF0YTogYWRkYWJsZURhdGEgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCd0YXNrcycpXG4gICAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgICAuZXEoJ2lzX2FkZGFibGUnLCB0cnVlKTtcblxuICAgICAgc2V0QXZhaWxhYmxlVGFza3MoYWRkYWJsZURhdGEgfHwgW10pO1xuICAgICAgaWYgKGFkZGFibGVEYXRhPy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHNldEFjdGl2ZUNhdGVnb3J5KGFkZGFibGVEYXRhWzBdLmNhdGVnb3J5KTtcbiAgICAgIH1cblxuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfTtcblxuICAgIGZldGNoVmlzaXRBbmRUYXNrcygpO1xuICB9LCBbaWRdKTtcblxuICBjb25zdCB1c2VyVGFza3MgPSB2aXNpdFRhc2tzLmZpbHRlcih0ID0+IHQuYWRkZWRfYnkgPT09ICdob21lb3duZXInKTtcbiAgY29uc3Qgc3lzdGVtVGFza3MgPSB2aXNpdFRhc2tzLmZpbHRlcih0ID0+IHQuYWRkZWRfYnkgPT09ICdzeXN0ZW0nKTtcblxuICBjb25zdCB0b3RhbEFkZGVkRHVyYXRpb24gPSB1c2VyVGFza3MucmVkdWNlKChzdW0sIHRhc2spID0+IHN1bSArICh0YXNrLmR1cmF0aW9uX21pbnV0ZXMgfHwgMCksIDApO1xuICBjb25zdCB0b3RhbEFkZGVkUHJpY2UgPSB1c2VyVGFza3MucmVkdWNlKChzdW0sIHRhc2spID0+IHN1bSArICh0YXNrLnByaWNlIHx8IDApLCAwKTtcblxuICBjb25zdCB0YXNrRHVyYXRpb25MaW1pdCA9IDkwO1xuICBjb25zdCBkdXJhdGlvbkxpbWl0UmVhY2hlZCA9IHRvdGFsQWRkZWREdXJhdGlvbiA+PSB0YXNrRHVyYXRpb25MaW1pdDtcblxuICBjb25zdCBoYW5kbGVBZGRUYXNrRnJvbUxpYnJhcnkgPSBhc3luYyAodGFzaykgPT4ge1xuICAgIGlmIChkdXJhdGlvbkxpbWl0UmVhY2hlZCkgcmV0dXJuO1xuICAgIHNldFN1Ym1pdHRpbmcodHJ1ZSk7XG5cbiAgICBjb25zdCBkdXJhdGlvbiA9IHRhc2suZHVyYXRpb25fbWludXRlcyB8fCAxNTtcblxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmZyb20oJ3Zpc2l0X3Rhc2tzJykuaW5zZXJ0KFtcbiAgICAgIHtcbiAgICAgICAgdmlzaXRfaWQ6IHZpc2l0LmlkLFxuICAgICAgICB0YXNrX2lkOiB0YXNrLmlkLFxuICAgICAgICBsYWJlbDogdGFzay5sYWJlbCxcbiAgICAgICAgYWRkZWRfYnk6ICdob21lb3duZXInLFxuICAgICAgICBiaWxsYWJsZTogdHJ1ZSxcbiAgICAgICAgcHJpY2U6IHRhc2sucHJpY2UgfHwgODUsXG4gICAgICAgIGR1cmF0aW9uX21pbnV0ZXM6IGR1cmF0aW9uXG4gICAgICB9XG4gICAgXSk7XG5cbiAgICBpZiAoIWVycm9yKSB7XG4gICAgICBjb25zdCB7IGRhdGE6IHRhc2tzRGF0YSB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3Zpc2l0X3Rhc2tzJylcbiAgICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAgIC5lcSgndmlzaXRfaWQnLCB2aXNpdC5pZClcbiAgICAgICAgLm9yZGVyKCdhZGRlZF9ieScsIHsgYXNjZW5kaW5nOiB0cnVlIH0pO1xuICAgICAgc2V0VmlzaXRUYXNrcyh0YXNrc0RhdGEgfHwgW10pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gYWRkIGxpYnJhcnkgdGFzazonLCBlcnJvci5tZXNzYWdlKTtcbiAgICB9XG5cbiAgICBzZXRTdWJtaXR0aW5nKGZhbHNlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVSZW1vdmVUYXNrID0gYXN5bmMgKHRhc2tJZCkgPT4ge1xuICAgIHNldFN1Ym1pdHRpbmcodHJ1ZSk7XG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuZnJvbSgndmlzaXRfdGFza3MnKS5kZWxldGUoKS5lcSgnaWQnLCB0YXNrSWQpO1xuICAgIGlmICghZXJyb3IpIHtcbiAgICAgIHNldFZpc2l0VGFza3MocHJldiA9PiBwcmV2LmZpbHRlcih0ID0+IHQuaWQgIT09IHRhc2tJZCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gcmVtb3ZlIHRhc2s6JywgZXJyb3IubWVzc2FnZSk7XG4gICAgfVxuICAgIHNldFN1Ym1pdHRpbmcoZmFsc2UpO1xuICB9O1xuXG4gIGNvbnN0IHRhc2tzQnlDYXRlZ29yeSA9IGF2YWlsYWJsZVRhc2tzLnJlZHVjZSgoYWNjLCB0YXNrKSA9PiB7XG4gICAgaWYgKHRhc2suY2F0ZWdvcnkgPT09ICdjb3JlLXBsYW4nKSByZXR1cm4gYWNjO1xuICAgIGlmICghYWNjW3Rhc2suY2F0ZWdvcnldKSBhY2NbdGFzay5jYXRlZ29yeV0gPSBbXTtcbiAgICBhY2NbdGFzay5jYXRlZ29yeV0ucHVzaCh0YXNrKTtcbiAgICByZXR1cm4gYWNjO1xuICB9LCB7fSk7XG5cbiAgcmV0dXJuIChcbiAgICA8bWFpbiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gcC02IGJnLWdyYXktNTAgdGV4dC1ncmF5LTgwMFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy0yeGwgbXgtYXV0byBiZy13aGl0ZSBwLTYgcm91bmRlZC1sZyBzaGFkb3ctbWRcIj5cbiAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCBtYi00XCI+VmlzaXQgRGV0YWlsczwvaDE+XG4gICAgICAgIDxwPjxzdHJvbmc+RGF0ZTo8L3N0cm9uZz4ge25ldyBEYXRlKHZpc2l0Py5zY2hlZHVsZWRfZGF0ZSkudG9Mb2NhbGVEYXRlU3RyaW5nKCl9PC9wPlxuICAgICAgICA8cD48c3Ryb25nPkxvY2F0aW9uOjwvc3Ryb25nPiB7dmlzaXQ/LmxvY2F0aW9ufTwvcD5cbiAgICAgICAgPHA+PHN0cm9uZz5Ib21lb3duZXIgTm90ZXM6PC9zdHJvbmc+IHt2aXNpdD8uaG9tZW93bmVyX25vdGVzIHx8ICdObyBub3RlcyBwcm92aWRlZC4nfTwvcD5cblxuICAgICAgICB7dmlzaXQ/LnRlY2huaWNpYW4gJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNiBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNFwiPlxuICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICBzcmM9e3Zpc2l0LnRlY2huaWNpYW4uYXZhdGFyX3VybCB8fCAnaHR0cHM6Ly9yYW5kb211c2VyLm1lL2FwaS9wb3J0cmFpdHMvbWVuLzc1LmpwZyd9XG4gICAgICAgICAgICAgIGFsdD1cIlRlY2huaWNpYW4gQXZhdGFyXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xMiBoLTEyIHJvdW5kZWQtZnVsbCBvYmplY3QtY292ZXJcIlxuICAgICAgICAgICAgICBvbkVycm9yPXsoZSkgPT4gKGUuY3VycmVudFRhcmdldC5zcmMgPSAnaHR0cHM6Ly9yYW5kb211c2VyLm1lL2FwaS9wb3J0cmFpdHMvbGVnby8yLmpwZycpfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxwPjxzdHJvbmc+VGVjaG5pY2lhbjo8L3N0cm9uZz4ge3Zpc2l0LnRlY2huaWNpYW4ubmFtZX08L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMFwiPnt2aXNpdC50ZWNobmljaWFuLmVtYWlsfTwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNlwiPlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgbWItMlwiPkluY2x1ZGVkIFRhc2tzPC9oMj5cbiAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICB7c3lzdGVtVGFza3MubWFwKHRhc2sgPT4gKFxuICAgICAgICAgICAgICA8bGkga2V5PXt0YXNrLmlkfSBjbGFzc05hbWU9XCJib3JkZXIgcC0zIHJvdW5kZWQgYmctZ3JheS01MFwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+e3Rhc2subGFiZWx9PC9zcGFuPlxuICAgICAgICAgICAgICAgIHt0YXNrLmNvbXBsZXRlZCAmJiA8c3BhbiBjbGFzc05hbWU9XCJtbC0yIHRleHQtZ3JlZW4tNjAwXCI+4pyFPC9zcGFuPn1cbiAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvdWw+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHt1c2VyVGFza3MubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC02XCI+XG4gICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlbWlib2xkIG1iLTJcIj5BZGRpdGlvbmFsIFJlcXVlc3RzPC9oMj5cbiAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAge3VzZXJUYXNrcy5tYXAodGFzayA9PiAoXG4gICAgICAgICAgICAgICAgPGxpIGtleT17dGFzay5pZH0gY2xhc3NOYW1lPVwiYm9yZGVyIHAtMyByb3VuZGVkIGJnLWdyYXktNTAgZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPnt0YXNrLmxhYmVsfSB7dGFzay5iaWxsYWJsZSAmJiA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtcmVkLTUwMCBtbC0yXCI+8J+Ssnt0YXNrLnByaWNlfTwvc3Bhbj59PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVSZW1vdmVUYXNrKHRhc2suaWQpfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgaG92ZXI6dGV4dC1yZWQtNjAwXCJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3N1Ym1pdHRpbmd9XG4gICAgICAgICAgICAgICAgICA+UmVtb3ZlPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNiBib3JkZXItdCBwdC00XCI+XG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1zZW1pYm9sZCBtYi0yXCI+4p6VIEFkZCBmcm9tIExpYnJhcnk8L2gyPlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi0zIHRleHQtc20gdGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgPHA+PHN0cm9uZz5Fc3RpbWF0ZWQgSG91cnMgKEFkZGl0aW9uYWwgVGFza3MpOjwvc3Ryb25nPiB7KHRvdGFsQWRkZWREdXJhdGlvbiAvIDYwKS50b0ZpeGVkKDEpfSBocnMgb2YgMS41IGhycyBtYXg8L3A+XG4gICAgICAgICAgICA8cD48c3Ryb25nPkhvdXJseSBSYXRlOjwvc3Ryb25nPiAkODUvaHI8L3A+XG4gICAgICAgICAgICA8cD48c3Ryb25nPlRvdGFsIEVzdGltYXRlOjwvc3Ryb25nPiAkeyh0b3RhbEFkZGVkRHVyYXRpb24gLyA2MCAqIDg1KS50b0ZpeGVkKDIpfTwvcD5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTQwMFwiPipFc3RpbWF0ZSBvbmx5IOKAlCBmaW5hbCB0aW1lIGFuZCBjb3N0IG1heSB2YXJ5IGFmdGVyIGluLXBlcnNvbiByZXZpZXcuPC9wPlxuICAgICAgICAgICAge2R1cmF0aW9uTGltaXRSZWFjaGVkICYmIDxwIGNsYXNzTmFtZT1cInRleHQtcmVkLTUwMFwiPllvdSd2ZSByZWFjaGVkIHRoZSBtYXhpbXVtIGFsbG93ZWQgdGltZSBmb3IgYWRkLW9uIHRhc2tzLjwvcD59XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGdhcC0yIG1iLTRcIj5cbiAgICAgICAgICAgIHtPYmplY3Qua2V5cyh0YXNrc0J5Q2F0ZWdvcnkpLm1hcChjYXRlZ29yeSA9PiAoXG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBrZXk9e2NhdGVnb3J5fVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEFjdGl2ZUNhdGVnb3J5KGNhdGVnb3J5KX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BweC0zIHB5LTEgcm91bmRlZC1mdWxsIGJvcmRlciB0ZXh0LXNtICR7XG4gICAgICAgICAgICAgICAgICBhY3RpdmVDYXRlZ29yeSA9PT0gY2F0ZWdvcnlcbiAgICAgICAgICAgICAgICAgICAgPyAnYmctYmx1ZS02MDAgdGV4dC13aGl0ZSBib3JkZXItYmx1ZS02MDAnXG4gICAgICAgICAgICAgICAgICAgIDogJ2JnLXdoaXRlIHRleHQtYmx1ZS02MDAgYm9yZGVyLWJsdWUtMzAwIGhvdmVyOmJnLWJsdWUtNTAnXG4gICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7Y2F0ZWdvcnl9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7YWN0aXZlQ2F0ZWdvcnkgJiYgdGFza3NCeUNhdGVnb3J5W2FjdGl2ZUNhdGVnb3J5XSAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTRcIj5cbiAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICAgIHt0YXNrc0J5Q2F0ZWdvcnlbYWN0aXZlQ2F0ZWdvcnldLm1hcCh0YXNrID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGFscmVhZHlBZGRlZCA9IHVzZXJUYXNrcy5zb21lKHQgPT4gdC50YXNrX2lkID09PSB0YXNrLmlkKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxsaSBrZXk9e3Rhc2suaWR9IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBib3JkZXIgcC0zIHJvdW5kZWQgYmctZ3JheS01MFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPnt0YXNrLmxhYmVsfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICB7YWxyZWFkeUFkZGVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmVlbi02MDAgdGV4dC1zbVwiPuKckyBBZGRlZDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVBZGRUYXNrRnJvbUxpYnJhcnkodGFzayl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ibHVlLTYwMCBib3JkZXIgYm9yZGVyLWJsdWUtNjAwIHB4LTIgcHktMSByb3VuZGVkIGhvdmVyOmJnLWJsdWUtNTBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17c3VibWl0dGluZyB8fCBkdXJhdGlvbkxpbWl0UmVhY2hlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgQWRkXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9tYWluPlxuICApO1xufVxuVmlzaXREZXRhaWxzLnNob3dOYXYgPSBmYWxzZTsiXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJ1c2VSb3V0ZXIiLCJzdXBhYmFzZSIsIlZpc2l0RGV0YWlscyIsInJvdXRlciIsImlkIiwicXVlcnkiLCJ2aXNpdCIsInNldFZpc2l0IiwidmlzaXRUYXNrcyIsInNldFZpc2l0VGFza3MiLCJhdmFpbGFibGVUYXNrcyIsInNldEF2YWlsYWJsZVRhc2tzIiwibG9hZGluZyIsInNldExvYWRpbmciLCJub3RlIiwic2V0Tm90ZSIsInN1Ym1pdHRpbmciLCJzZXRTdWJtaXR0aW5nIiwiYWN0aXZlQ2F0ZWdvcnkiLCJzZXRBY3RpdmVDYXRlZ29yeSIsImZldGNoVmlzaXRBbmRUYXNrcyIsInZpc2l0RGF0YSIsInRhc2tzRGF0YSIsImFkZGFibGVEYXRhIiwiZnJvbSIsInNlbGVjdCIsImVxIiwic2luZ2xlIiwiZGF0YSIsIm9yZGVyIiwiYXNjZW5kaW5nIiwibGVuZ3RoIiwiY2F0ZWdvcnkiLCJ1c2VyVGFza3MiLCJmaWx0ZXIiLCJ0IiwiYWRkZWRfYnkiLCJzeXN0ZW1UYXNrcyIsInRvdGFsQWRkZWREdXJhdGlvbiIsInJlZHVjZSIsInN1bSIsInRhc2siLCJkdXJhdGlvbl9taW51dGVzIiwidG90YWxBZGRlZFByaWNlIiwicHJpY2UiLCJ0YXNrRHVyYXRpb25MaW1pdCIsImR1cmF0aW9uTGltaXRSZWFjaGVkIiwiaGFuZGxlQWRkVGFza0Zyb21MaWJyYXJ5IiwiZHVyYXRpb24iLCJlcnJvciIsImluc2VydCIsInZpc2l0X2lkIiwidGFza19pZCIsImxhYmVsIiwiYmlsbGFibGUiLCJjb25zb2xlIiwibWVzc2FnZSIsImhhbmRsZVJlbW92ZVRhc2siLCJ0YXNrSWQiLCJkZWxldGUiLCJwcmV2IiwidGFza3NCeUNhdGVnb3J5IiwiYWNjIiwicHVzaCIsIm1haW4iLCJjbGFzc05hbWUiLCJkaXYiLCJoMSIsInAiLCJzdHJvbmciLCJEYXRlIiwic2NoZWR1bGVkX2RhdGUiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJsb2NhdGlvbiIsImhvbWVvd25lcl9ub3RlcyIsInRlY2huaWNpYW4iLCJpbWciLCJzcmMiLCJhdmF0YXJfdXJsIiwiYWx0Iiwib25FcnJvciIsImUiLCJjdXJyZW50VGFyZ2V0IiwibmFtZSIsImVtYWlsIiwiaDIiLCJ1bCIsIm1hcCIsImxpIiwic3BhbiIsImNvbXBsZXRlZCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJkaXNhYmxlZCIsInRvRml4ZWQiLCJPYmplY3QiLCJrZXlzIiwiYWxyZWFkeUFkZGVkIiwic29tZSIsInNob3dOYXYiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/visit-details.js\n"));

/***/ })

});